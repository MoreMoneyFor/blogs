---
title: "jekell学习"
category: 工具效率
time: 2012-10-19 18:00:00 +0800
---

建议阅读路径
1. [markdown wiki](http://en.wikipedia.org/wiki/Markdown)
2. [Quick Start](http://jekyllbootstrap.com/usage/jekyll-quick-start.html)
3. [原理介绍](http://jekyllbootstrap.com/lessons/jekyll-introduction.html)
4. [liquid语法](https://github.com/Shopify/liquid/wiki/Liquid-for-Designers)
5. [jekyll doc](https://github.com/mojombo/jekyll/wiki)

关于版本，尽量与github上描述保持一致，目前是jekyll-0.11.0 liquid-2.2.2  
开始默认安装了高版本，遇到本地server展示跟github不同的问题，查了许久，才发现旧版不支持一些liquid语法，比如split...

	sudo gem install liquid -v 2.2.2
	sudo gem install jekyll -v 0.11.0

关于主页feed列表，显示read more的逻辑，不能简单用truncatewords，因为识别不了中文； 
后来尝试用content|strip_html|newline_to_br|split &lt;br /&gt;，然后for in lines输出的方式，但split及数组赋值只能在高版本支持；  
最后找到一种对旧版的兼容方法（原来旧版liquid中可以用for in来遍历字符串的行):

	注：因为输出问题，以下用()替代{}
	(% capture lines %)(( post.content | strip_html )(% endcapture %)
	(% for ln in lines %)
 	  (% if forloop.index <= 10 %)
	    (( ln )) <br/>
	  (% endif %)
	  (% if forloop.last and forloop.index > 10 %)
	    <p><a href="(( BASE_PATH ))(( post.url ))">阅读全文&gt;&gt;</a></p>
	  (% endif %)
	(% endfor %)

